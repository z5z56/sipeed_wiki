{"/soft/longan/zh/index.html": {"title": "Sipeed Hardware", "desc": "矽速科技的硬件资料站", "keywords": ["Sipeed", " Hardware", " 矽速", " 硬件资料", " 文档", " 资料下载"], "tags": [], "body": "<div class=\"title_pic\">\n    <img src=\"../assets/sipeed_longan_logo.jpg\" height=\"60\">  <img src=\"../assets/icon_sipeed2.png\"  height=\"60\">\n</div>\n\n<h2 id=\"longan\">什么是 Longan</h2>\n\n<p>Longan Nano 是基于兆易创新(GigaDevice)最新基于 RISC-V 32 位内核的<code>GD32VF103CBT6</code> 单片机的极简开发板。方便广大学生、工程师、极客爱好者们接触最新一代的RISC-V处理器。了解其特性。</p>\n\n<p>主芯片为 GD32VF103CBT6 ，基于<a href=\"http://www.nucleisys.com/\">芯来科技</a>.的Bumblebee内核(指令集文档在此下载：<a href=\"http://dl.sipeed.com/LONGAN/Nano/DOC/\">http://dl.sipeed.com/LONGAN/Nano/DOC/</a>.。支持 <code>RV32IMAC</code> 指令集及<code>ECLIC</code> 快速中断功能。内核功耗仅传统 <code>Cortex-M3</code> 的1/3.</p>\n\n<p>芯片内置 <code>128KB</code> Flash, <code>32KB</code> SRAM，外设情况为：</p>\n\n<ul>\n<li>4 x 通用16位定时器</li>\n<li>2 x 基本16位定时器</li>\n<li>1 x 高级16位定时器</li>\n<li>看门狗定时器</li>\n<li>RTC</li>\n<li>Systick</li>\n<li>3 x USART</li>\n<li>2 x I2C</li>\n<li>3 x SPI</li>\n<li>2 x I2S</li>\n<li>2 x CAN</li>\n<li>1 x USBFS(OTG)</li>\n<li>2 x ADC(10 channel)</li>\n<li>2 x DAC</li>\n</ul>\n\n<p>Longan Nano 开发板，双列插针版型设计，排针间距 700mil，可直插面包板；板载 8M 无源晶振，32.768KHz RTC 低速晶振，迷你 TF 卡槽，并使用最新的 Type-C USB 接口。</p>\n\n<h2 id=\"-1\">如何开发</h2>\n\n<p>Longan Nano 支持基于 VS CODE 的 PlatformIO IDE 环境下的开发， 支持一键工程配置、编译、下载、调试。安装使用教程见：<a href=\"./get_started/pio.html\">PIO 配置</a>.</p>\n\n<p><img src=\"../assets/longan_pio_debug.jpg\" alt=\"pio_debug\" /></p>\n\n<h2 id=\"-2\">引脚定义</h2>\n\n<p><img src=\"../assets/longan_nano_pinout_v1.1.0_w5676_h4000_large.png\" alt=\"\" /></p>\n", "toc": "", "metadata": {"title": "Sipeed Hardware", "keywords": "Sipeed, Hardware, 矽速, 硬件资料, 文档, 资料下载", "desc": "矽速科技的硬件资料站"}, "raw": "---\ntitle: Sipeed Hardware\nkeywords: Sipeed, Hardware, 矽速, 硬件资料, 文档, 资料下载\ndesc: 矽速科技的硬件资料站\n---\n\n<div class=\"title_pic\">\n    <img src=\"../assets/sipeed_longan_logo.jpg\" height=\"60\">  <img src=\"../assets/icon_sipeed2.png\"  height=\"60\">\n</div>\n\n## 什么是 Longan\n\nLongan Nano 是基于兆易创新(GigaDevice)最新基于 RISC-V 32 位内核的`GD32VF103CBT6` 单片机的极简开发板。方便广大学生、工程师、极客爱好者们接触最新一代的RISC-V处理器。了解其特性。\n\n主芯片为 GD32VF103CBT6 ，基于[芯来科技](http://www.nucleisys.com/).的Bumblebee内核(指令集文档在此下载：[http://dl.sipeed.com/LONGAN/Nano/DOC/](http://dl.sipeed.com/LONGAN/Nano/DOC/).。支持 `RV32IMAC` 指令集及`ECLIC` 快速中断功能。内核功耗仅传统 `Cortex-M3` 的1/3.\n\n芯片内置 `128KB` Flash, `32KB` SRAM，外设情况为：\n* 4 x 通用16位定时器\n* 2 x 基本16位定时器\n* 1 x 高级16位定时器\n* 看门狗定时器\n* RTC\n* Systick\n* 3 x USART\n* 2 x I2C\n* 3 x SPI\n* 2 x I2S\n* 2 x CAN\n* 1 x USBFS(OTG)\n* 2 x ADC(10 channel)\n* 2 x DAC\n\nLongan Nano 开发板，双列插针版型设计，排针间距 700mil，可直插面包板；板载 8M 无源晶振，32.768KHz RTC 低速晶振，迷你 TF 卡槽，并使用最新的 Type-C USB 接口。\n\n## 如何开发\n\nLongan Nano 支持基于 VS CODE 的 PlatformIO IDE 环境下的开发， 支持一键工程配置、编译、下载、调试。安装使用教程见：[PIO 配置](./get_started/pio.html).\n\n![pio_debug](../assets/longan_pio_debug.jpg)\n\n## 引脚定义\n\n![](../assets/longan_nano_pinout_v1.1.0_w5676_h4000_large.png)", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"active_parent no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/README.md"}, "/soft/longan/zh/get_started/rv-link.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"rv-link\">使用 RV-LINK</h1>\n\n<h2 id=\"rv-link-2\">什么是 RV-LINK</h2>\n\n<p><strong>RV-LINK</strong> 是一个基于 RISC-V 开发板的仿真器固件，通过烧写 <strong>RV-LINK</strong> 固件， 可以将 <strong>Sipeed Longan Nano</strong> 开发板变成一个 <code>jtag</code> 调试器，用来调试另一块 Longan 或者其他支持 jtag 调试的开发板。 RV-LINK 项目地址: <a href=\"https://gitee.com/zoomdy/RV-LINK\">https://gitee.com/zoomdy/RV-LINK</a></p>\n\n<h2 id=\"rv-link-3\">烧写 RV-LINK 固件</h2>\n\n<h3 id=\"platformio\">使用 PlatformIO 工程一键烧录</h3>\n\n<ul>\n<li><p>下载 RV-LINK 源码</p>\n\n<p>项目源码下载地址：<a href=\"http://dl.sipeed.com/LONGAN/Nano/Tools/RV-LINK-pio-src-v0.1.zip\">http://dl.sipeed.com/LONGAN/Nano/Tools/RV-LINK-pio-src-v0.1.zip</a></p>\n\n<p>也可以从RV-LINK官方项目下载: <a href=\"https://gitee.com/zoomdy/RV-LINK\">https://gitee.com/zoomdy/RV-LINK</a></p></li>\n<li><p>使用 VSCODE 打开工程目录</p>\n\n<p>将上面下载的源码解压到单独的文件夹<br />\n然后使用 VSCODE 打开源码文件夹</p>\n\n<p>如下图所示：<br />\n<img src=\"../../assets/pio_open_rvlink.png\" alt=\"\" /></p>\n\n<p>通常使用 DFU 方式烧录固件，<strong>不需要</strong>修改配置文件。(使用 DFU 方式下载请安装 libusb 驱动, 参考<a href=\"blink.md/#使用zadig安装驱动\">使用Zadig安装驱动</a>)</p>\n\n<p>如果需要更改烧录方式，可以通过修改 <code>platformio.ini</code> 文件来修改， 具体配置方式请参考：<a href=\"blink.md/#工程配置文件\">修改工程配置文件</a></p></li>\n<li><p>使用 PIO 烧录固件</p>\n\n<p>连接开发板，使开发板进入烧录模式后，点击左下角的箭头符号即可进行烧录。</p>\n\n<p>烧录成功后，可以看到开发板上的绿灯闪烁，将开发板连接到电脑USB口之后，可以在设备管理器中看到多出了一个串口设备。此时 Longan 板子就成功变成了 RV-LINK 调试器。</p></li>\n</ul>\n\n<h3 id=\"-1\">其他烧录方式</h3>\n\n<p>参考文档： <a href=\"https://gitee.com/zoomdy/RV-LINK/wikis/%E5%B0%86%20Longan%20Nano%20%E5%BC%80%E5%8F%91%E6%9D%BF%E5%8F%98%E6%88%90%20RISC-V%20%E4%BB%BF%E7%9C%9F%E5%99%A8\">将 Longan Nano 开发板变成 RISC-V 仿真器</a></p>\n\n<h2 id=\"rv-link-4\">使用 RV-LINK 调试</h2>\n\n<h3 id=\"-2\">连接开发板</h3>\n\n<p>将刷好 RV-LINK 固件的开发板与待调试开发板 jtag 连线按下表连接</p>\n\n<table>\n<thead>\n<tr>\n  <th style=\"text-align:center;\">RV-LINK</th>\n  <th style=\"text-align:center;\">待调试开发板</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td style=\"text-align:center;\">JTDO</td>\n  <td style=\"text-align:center;\">JTDO</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTDI</td>\n  <td style=\"text-align:center;\">JTDI</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTCK</td>\n  <td style=\"text-align:center;\">JTCK</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTMS</td>\n  <td style=\"text-align:center;\">JTMS</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">3V3</td>\n  <td style=\"text-align:center;\">3V3</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">GND</td>\n  <td style=\"text-align:center;\">GND</td>\n</tr>\n</tbody>\n</table>\n\n<h4 id=\"win7-gd\">WIN7 用户安装 GD 串口驱动</h4>\n\n<p>见此链接<a href=\"https://gitee.com/zoomdy/RV-LINK/wikis/GDB%20%E4%BD%BF%E7%94%A8%20RV-LINK%20%E4%BB%BF%E7%9C%9F%E5%99%A8%E8%B0%83%E8%AF%95%20RISC-V%20%E7%A8%8B%E5%BA%8F?sort_id=1667650#%E5%AE%89%E8%A3%85-usb-%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8\">安装 USB 串口驱动</a></p>\n\n<h3 id=\"platformio-ide-rv-link\">在 PlatformIO IDE 中使用 RV-LINK</h3>\n\n<p>RV-LINK 在 PlatformIO IDE 可以和其他调试器一样，支持一键启动调试。</p>\n\n<p>只需要在工程的 <code>platformio.ini</code> 配置文件中，指定调试器选项和调试器端口选项。</p>\n\n<p>示例代码</p>\n\n<pre><code class=\"ini language-ini\">[env:sipeed-longan-nano]\nplatform = gd32v\nframework = gd32vf103-sdk\nboard = sipeed-longan-nano\nmonitor_speed = 115200\nupload_protocol = rv-link ; rv-link下载选项\ndebug_tool = rv-link ; rv-link调试选项\ndebug_port = COM2    ; 使用rv-link 必填此项 调试器串口\n</code></pre>\n\n<h3 id=\"rv-link-5\">在其他平台使用 RV-LINK</h3>\n\n<p>参考 <a href=\"https://gitee.com/zoomdy/RV-LINK/wikis/\">RV-LINK WIKI</a></p>\n", "toc": "", "metadata": {}, "raw": "使用 RV-LINK\n=========\n\n## 什么是 RV-LINK\n\n**RV-LINK** 是一个基于 RISC-V 开发板的仿真器固件，通过烧写 **RV-LINK** 固件， 可以将 **Sipeed Longan Nano** 开发板变成一个 `jtag` 调试器，用来调试另一块 Longan 或者其他支持 jtag 调试的开发板。 RV-LINK 项目地址: [https://gitee.com/zoomdy/RV-LINK](https://gitee.com/zoomdy/RV-LINK)\n\n## 烧写 RV-LINK 固件\n\n### 使用 PlatformIO 工程一键烧录\n* 下载 RV-LINK 源码\n\n    项目源码下载地址：[http://dl.sipeed.com/LONGAN/Nano/Tools/RV-LINK-pio-src-v0.1.zip](http://dl.sipeed.com/LONGAN/Nano/Tools/RV-LINK-pio-src-v0.1.zip)\n\n    也可以从RV-LINK官方项目下载: [https://gitee.com/zoomdy/RV-LINK](https://gitee.com/zoomdy/RV-LINK)\n* 使用 VSCODE 打开工程目录\n\n    将上面下载的源码解压到单独的文件夹\n    然后使用 VSCODE 打开源码文件夹\n\n    如下图所示：\n    ![](../../assets/pio_open_rvlink.png)\n\n    通常使用 DFU 方式烧录固件，**不需要**修改配置文件。(使用 DFU 方式下载请安装 libusb 驱动, 参考[使用Zadig安装驱动](blink.md/#使用zadig安装驱动))\n\n    如果需要更改烧录方式，可以通过修改 `platformio.ini` 文件来修改， 具体配置方式请参考：[修改工程配置文件](blink.md/#工程配置文件)\n\n* 使用 PIO 烧录固件\n\n    连接开发板，使开发板进入烧录模式后，点击左下角的箭头符号即可进行烧录。\n\n    烧录成功后，可以看到开发板上的绿灯闪烁，将开发板连接到电脑USB口之后，可以在设备管理器中看到多出了一个串口设备。此时 Longan 板子就成功变成了 RV-LINK 调试器。\n\n### 其他烧录方式\n\n参考文档： [将 Longan Nano 开发板变成 RISC-V 仿真器](https://gitee.com/zoomdy/RV-LINK/wikis/%E5%B0%86%20Longan%20Nano%20%E5%BC%80%E5%8F%91%E6%9D%BF%E5%8F%98%E6%88%90%20RISC-V%20%E4%BB%BF%E7%9C%9F%E5%99%A8)\n\n## 使用 RV-LINK 调试\n\n### 连接开发板\n\n将刷好 RV-LINK 固件的开发板与待调试开发板 jtag 连线按下表连接\n\n| RV-LINK | 待调试开发板 |\n| :----: | :----: |\n|  JTDO  |  JTDO  |\n|  JTDI  |  JTDI  |\n|  JTCK  |  JTCK  |\n|  JTMS  |  JTMS  |\n|  3V3   |  3V3   |\n|  GND   |  GND   |\n\n#### WIN7 用户安装 GD 串口驱动\n\n见此链接[安装 USB 串口驱动](https://gitee.com/zoomdy/RV-LINK/wikis/GDB%20%E4%BD%BF%E7%94%A8%20RV-LINK%20%E4%BB%BF%E7%9C%9F%E5%99%A8%E8%B0%83%E8%AF%95%20RISC-V%20%E7%A8%8B%E5%BA%8F?sort_id=1667650#%E5%AE%89%E8%A3%85-usb-%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8)\n\n### 在 PlatformIO IDE 中使用 RV-LINK\n\nRV-LINK 在 PlatformIO IDE 可以和其他调试器一样，支持一键启动调试。\n\n只需要在工程的 `platformio.ini` 配置文件中，指定调试器选项和调试器端口选项。\n\n示例代码\n\n```ini\n[env:sipeed-longan-nano]\nplatform = gd32v\nframework = gd32vf103-sdk\nboard = sipeed-longan-nano\nmonitor_speed = 115200\nupload_protocol = rv-link ; rv-link下载选项\ndebug_tool = rv-link ; rv-link调试选项\ndebug_port = COM2    ; 使用rv-link 必填此项 调试器串口\n```\n\n### 在其他平台使用 RV-LINK\n\n参考 [RV-LINK WIKI](https://gitee.com/zoomdy/RV-LINK/wikis/)", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"active_parent with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/get_started/rv-link.md"}, "/soft/longan/zh/get_started/debug.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"debug\">Debug 调试</h1>\n\n<h2 id=\"-1\">连接调试器</h2>\n\n<table>\n<thead>\n<tr>\n  <th style=\"text-align:center;\">开发板</th>\n  <th style=\"text-align:center;\">调试器</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td style=\"text-align:center;\">JTDO</td>\n  <td style=\"text-align:center;\">TDO</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTDI</td>\n  <td style=\"text-align:center;\">TDI</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTCK</td>\n  <td style=\"text-align:center;\">TCK</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">JTMS</td>\n  <td style=\"text-align:center;\">TMS</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">3V3</td>\n  <td style=\"text-align:center;\">3V3</td>\n</tr>\n<tr>\n  <td style=\"text-align:center;\">GND</td>\n  <td style=\"text-align:center;\">GND</td>\n</tr>\n</tbody>\n</table>\n\n<h2 id=\"-2\">修改配置文件</h2>\n\n<p>修改工程配置文件 <code>platformio.ini</code>， 在下面添加</p>\n\n<pre><code class=\"ini language-ini\">debug_tool = jlink\n</code></pre>\n\n<p>根据实际调试器型号选择。目前支持的调试器列表</p>\n\n<ul>\n<li><code>jlink</code></li>\n<li><code>gd-link</code></li>\n<li><code>ft2232</code></li>\n<li><code>sipeed-rv-debugger</code></li>\n<li><code>altera-usb-blaster</code></li>\n<li><code>um232h</code></li>\n<li><code>rv-link</code></li>\n</ul>\n\n<h2 id=\"-3\">一键调试</h2>\n\n<p>切换到 VS CODE 左侧的 <code>DEBUG</code> 界面， 点击绿色箭头即可进行调试。</p>\n\n<p><img src=\"../../assets/pio_debug_longan.png\" alt=\"\" />.</p>\n", "toc": "", "metadata": {}, "raw": "Debug 调试\n======\n\n## 连接调试器\n| 开发板 | 调试器 |\n| :----: | :----: |\n|  JTDO  |  TDO   |\n|  JTDI  |  TDI   |\n|  JTCK  |  TCK   |\n|  JTMS  |  TMS   |\n|  3V3   |  3V3   |\n|  GND   |  GND   |\n\n## 修改配置文件\n修改工程配置文件 `platformio.ini`， 在下面添加\n\n```ini\ndebug_tool = jlink\n```\n\n根据实际调试器型号选择。目前支持的调试器列表\n\n* `jlink`\n* `gd-link`\n* `ft2232`\n* `sipeed-rv-debugger`\n* `altera-usb-blaster`\n* `um232h`\n* `rv-link`\n\n## 一键调试\n\n切换到 VS CODE 左侧的 `DEBUG` 界面， 点击绿色箭头即可进行调试。\n\n![](../../assets/pio_debug_longan.png).", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/get_started/debug.md"}, "/soft/longan/zh/get_started/blink.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"blink\">Blink 闪灯程序</h1>\n\n<h2 id=\"blink-2\">创建 Blink 工程</h2>\n\n<ul>\n<li>打开 PIO 主页 选择 <code>Project Examples</code></li>\n</ul>\n\n<p><img src=\"http://blog.sipeed.com/wp-content/uploads/2019/04/d977e844490e6ccc4625f701883a29f5.png\" alt=\"\" /></p>\n\n<ul>\n<li><p>选择 <code>arduino blink</code> 点击 <code>Import</code> 导入示例程序 （初次导入需要下载架构文件及工具，需要等待较长时间）<br />\n<img src=\"http://blog.sipeed.com/wp-content/uploads/2019/04/82943a6b74077e6210e2d9421cb5438f.png\" alt=\"\" /></p></li>\n<li><p>导入成功后即可见到示例工程<br />\n<img src=\"http://blog.sipeed.com/wp-content/uploads/2019/04/1262373ca7b0b483e30dac1124adaabf.png\" alt=\"\" /></p></li>\n</ul>\n\n<h2 id=\"-1\">工程配置文件</h2>\n\n<ul>\n<li>我们首先需要编辑工程配置文件 <code>platformio.ini</code> 根据自己的开发板型号，删掉其他开发板环境。</li>\n</ul>\n\n<p><img src=\"./../../assets/pio_ini_cfg.png\" alt=\"\" /></p>\n\n<p>配置示例</p>\n\n<pre><code class=\"ini language-ini\">[env:sipeed-longan-nano]\nplatform = gd32v          ;平台，选择gd32v\nframework = arduino       ;可选 gd32vf103-sdk 或 arduino\nboard = sipeed-longan-nano ; 开发板\nmonitor_speed = 115200     ; 串口监视器波特率\nupload_protocol = serial   ; 下载工具 默认串口， 可选 dfu、jlink、gd-link 等\ndebug_tool = jlink         ; 调试工具 默认jlink ，可选 sipeed-rv-debugger 等\n</code></pre>\n\n<p>PIO 可以在配置文件中实现设置宏定义， 控制编译流程等自定义功能，高级用法请参阅 <a href=\"https://docs.platformio.org/en/latest/projectconf.html\">PIO 官方文档</a>.</p>\n\n<h2 id=\"-2\">一键编译</h2>\n\n<p>点击左下角的 <code>Build</code> 即可构建项目<br />\n<img src=\"../../assets/pio_complie.png\" alt=\"\" /></p>\n\n<h2 id=\"-3\">连接开发板</h2>\n\n<h3 id=\"isp\">串口 ISP 下载</h3>\n\n<ul>\n<li>准备 USB 转 串口下载器</li>\n<li>连接开发板与下载器</li>\n<li>修改 <code>platformio.ini</code> 文件， 添加下面一行内容：</li>\n</ul>\n\n<pre><code class=\"ini language-ini\">upload_protocol = serial\n</code></pre>\n\n<ul>\n<li>开发板按住 <code>BOOT</code> 键，再按 <code>RESET</code> 键重启开发板后再松开 <code>BOOT</code> 键，进入下载模式。</li>\n</ul>\n\n<h3 id=\"jtag\">JTAG 下载</h3>\n\n<ul>\n<li>准备J-link 或 Sipeed RV 调试器</li>\n<li>连接开发板</li>\n<li>修改 <code>platformio.ini</code> 文件， 添加下面一行内容：</li>\n</ul>\n\n<pre><code class=\"ini language-ini\">upload_protocol = jlink\n</code></pre>\n\n<p>或者</p>\n\n<pre><code class=\"ini language-ini\">upload_protocol = sipeed-rv-debugger\n</code></pre>\n\n<h3 id=\"usb-dfu\">USB DFU 下载</h3>\n\n<ul>\n<li><strong>首次</strong> 使用需要安装 libusb 驱动程序， 请参考此步骤 <a href=\"#使用zadig安装驱动\">使用 Zaidig 安装驱动</a>.</li>\n<li>准备 USB Type-c 数据线</li>\n<li>使用数据线连接电脑与开发板</li>\n<li>修改 <code>platformio.ini</code> 文件， 添加下面一行内容：</li>\n</ul>\n\n<pre><code class=\"ini language-ini\">upload_protocol = dfu\n</code></pre>\n\n<ul>\n<li>开发板按住 <code>BOOT</code> 键，再按 <code>RESET</code> 键重启开发板后再松开 <code>BOOT</code> 键，进入 DFU 模式。</li>\n</ul>\n\n<h2 id=\"-4\">一键下载</h2>\n\n<p>按照上面步骤选择好下载方式后，即可使用 PIO 内置工具一键下载。</p>\n\n<p>点击左下角的 <code>Upload</code> 即可向开发板上传程序。</p>\n\n<p><img src=\"../../assets/pio_upload.png\" alt=\"\" /></p>\n\n<h2 id=\"zadig\">使用Zadig安装驱动</h2>\n\n<p>PIO 内置 dfu-util 下载工具，使用此工具需要为开发板安装 libusb 驱动。（注意： 与 GD 官方驱动不同）</p>\n\n<p>建议通过 Zadig 安装 winusb 驱动。<a href=\"https://github.com/pbatard/libwdi/releases/download/b721/zadig-2.4.exe\">下载地址</a></p>\n\n<p>下载成功后打开 Zadig</p>\n\n<p>在下拉栏中选择 GD32V， 替换驱动选择 WinUSB, 点击替换按钮，即可替换成功。<br />\n<img src=\"../../assets/dfu_zadig.png\" alt=\"\" /></p>\n\n<h2 id=\"dfu\">DFU 图形界面下载</h2>\n\n<p>下载DFU工具：http://dl.sipeed.com/LONGAN/Nano/Tools/GD32_MCU_Dfu_Tool_V3.8.1.5784_1.rar</p>\n\n<p>解压出两个文件夹：</p>\n\n<p>GD32 MCU Dfu Drivers_v1.0.1.2316  和 GD32 MCU Dfu Tool_v3.8.1.5784</p>\n\n<p>先进入driver文件夹，安装对应的驱动文件，注意使用管理员权限运行</p>\n\n<p><img src=\"../../assets/examples/how_to_install_dfu.png\" alt=\"\" /></p>\n\n<p>运行 GD32 MCU Dfu Tool.exe<br />\n将 Longan Nano 插到电脑，按住 Boot0 键，短按 Reset 键，再松开 Boot0 键，<br />\n可以看到 DFU 工具中识别到了 GD32VF 芯片</p>\n\n<p>选择对应的固件文件，并勾选烧录后校验，点击OK，即可进行烧录</p>\n\n<p>烧录完成之后不会自动复位，需要自己手工按下复位按键，查看运行效果</p>\n\n<p><img src=\"../../assets/examples/how_to_use_dfu.png\" alt=\"\" /></p>\n", "toc": "", "metadata": {}, "raw": "Blink 闪灯程序\n=====\n\n## 创建 Blink 工程\n\n* 打开 PIO 主页 选择 `Project Examples`\n\n![](http://blog.sipeed.com/wp-content/uploads/2019/04/d977e844490e6ccc4625f701883a29f5.png)\n\n* 选择 `arduino blink` 点击 `Import` 导入示例程序 （初次导入需要下载架构文件及工具，需要等待较长时间）\n![](http://blog.sipeed.com/wp-content/uploads/2019/04/82943a6b74077e6210e2d9421cb5438f.png)\n\n* 导入成功后即可见到示例工程\n![](http://blog.sipeed.com/wp-content/uploads/2019/04/1262373ca7b0b483e30dac1124adaabf.png)\n\n## 工程配置文件\n\n\n* 我们首先需要编辑工程配置文件 `platformio.ini` 根据自己的开发板型号，删掉其他开发板环境。\n\n![](./../../assets/pio_ini_cfg.png)\n\n配置示例\n```ini\n[env:sipeed-longan-nano]\nplatform = gd32v          ;平台，选择gd32v\nframework = arduino       ;可选 gd32vf103-sdk 或 arduino\nboard = sipeed-longan-nano ; 开发板\nmonitor_speed = 115200     ; 串口监视器波特率\nupload_protocol = serial   ; 下载工具 默认串口， 可选 dfu、jlink、gd-link 等\ndebug_tool = jlink         ; 调试工具 默认jlink ，可选 sipeed-rv-debugger 等\n```\nPIO 可以在配置文件中实现设置宏定义， 控制编译流程等自定义功能，高级用法请参阅 [PIO 官方文档](https://docs.platformio.org/en/latest/projectconf.html).\n\n## 一键编译\n\n点击左下角的 `Build` 即可构建项目\n![](../../assets/pio_complie.png)\n\n## 连接开发板\n### 串口 ISP 下载\n* 准备 USB 转 串口下载器\n* 连接开发板与下载器\n* 修改 `platformio.ini` 文件， 添加下面一行内容：\n```ini\nupload_protocol = serial\n```\n* 开发板按住 `BOOT` 键，再按 `RESET` 键重启开发板后再松开 `BOOT` 键，进入下载模式。\n\n### JTAG 下载\n* 准备J-link 或 Sipeed RV 调试器\n* 连接开发板\n* 修改 `platformio.ini` 文件， 添加下面一行内容：\n```ini\nupload_protocol = jlink\n```\n或者\n```ini\nupload_protocol = sipeed-rv-debugger\n```\n\n### USB DFU 下载\n* **首次** 使用需要安装 libusb 驱动程序， 请参考此步骤 [使用 Zaidig 安装驱动](#使用zadig安装驱动).\n* 准备 USB Type-c 数据线\n* 使用数据线连接电脑与开发板\n* 修改 `platformio.ini` 文件， 添加下面一行内容：\n```ini\nupload_protocol = dfu\n```\n* 开发板按住 `BOOT` 键，再按 `RESET` 键重启开发板后再松开 `BOOT` 键，进入 DFU 模式。\n\n\n## 一键下载\n\n按照上面步骤选择好下载方式后，即可使用 PIO 内置工具一键下载。\n\n点击左下角的 `Upload` 即可向开发板上传程序。\n\n![](../../assets/pio_upload.png)\n\n## 使用Zadig安装驱动\nPIO 内置 dfu-util 下载工具，使用此工具需要为开发板安装 libusb 驱动。（注意： 与 GD 官方驱动不同）\n\n建议通过 Zadig 安装 winusb 驱动。[下载地址](https://github.com/pbatard/libwdi/releases/download/b721/zadig-2.4.exe)\n\n下载成功后打开 Zadig\n\n在下拉栏中选择 GD32V， 替换驱动选择 WinUSB, 点击替换按钮，即可替换成功。\n![](../../assets/dfu_zadig.png)\n## DFU 图形界面下载\n\n下载DFU工具：http://dl.sipeed.com/LONGAN/Nano/Tools/GD32_MCU_Dfu_Tool_V3.8.1.5784_1.rar\n\n解压出两个文件夹：\n\nGD32 MCU Dfu Drivers_v1.0.1.2316  和 GD32 MCU Dfu Tool_v3.8.1.5784\n\n先进入driver文件夹，安装对应的驱动文件，注意使用管理员权限运行\n\n![](../../assets/examples/how_to_install_dfu.png)\n\n运行 GD32 MCU Dfu Tool.exe\n将 Longan Nano 插到电脑，按住 Boot0 键，短按 Reset 键，再松开 Boot0 键，\n可以看到 DFU 工具中识别到了 GD32VF 芯片\n\n选择对应的固件文件，并勾选烧录后校验，点击OK，即可进行烧录\n\n烧录完成之后不会自动复位，需要自己手工按下复位按键，查看运行效果\n\n![](../../assets/examples/how_to_use_dfu.png)", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/get_started/blink.md"}, "/soft/longan/zh/get_started/sipeed-debugger.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"sipeed\">使用 Sipeed 调试器</h1>\n\n<h2 id=\"sipeed-rv-debugger\">Sipeed rv debugger</h2>\n\n<h2 id=\"sipeed-rv-debugger-lite\">Sipeed rv debugger lite</h2>\n", "toc": "", "metadata": {}, "raw": "使用 Sipeed 调试器\n=====\n\n## Sipeed rv debugger\n\n\n## Sipeed rv debugger lite", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"active_parent with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/get_started/sipeed-debugger.md"}, "/soft/longan/zh/get_started/pio.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"pio\">PIO 配置</h1>\n\n<h2 id=\"vs-code\">安装 VS-CODE</h2>\n\n<p>VS CODE 是一款比较常用的开发工具。前往<a href=\"https://code.visualstudio.com/\" title=\"VScode官网\">VScode官网</a>，下载安装对应操作系统版本的安装包即可。</p>\n\n<h2 id=\"pio-2\">安装 PIO 插件</h2>\n\n<p>打开 VSCode -> 点击左侧扩展 -> 搜索 PlatformIO -> 点击安装插件 -> 等待安装完成 -> 重启 VSCODE</p>\n\n<p><img src=\"http://blog.sipeed.com/wp-content/uploads/2019/04/0d501a8515a735fba54e2f5de908cd1e.png\" alt=\"\" /></p>\n\n<h2 id=\"gd32v\">安装 GD32V 平台定义</h2>\n\n<p>PIO 目前提供<strong>命令行</strong>与<strong>图形界面</strong>两种方式来安装。下面将分别介绍：<br />\n（PS : 推荐命令行，因为能看到下载进度条。）</p>\n\n<h3 id=\"-1\">命令行</h3>\n\n<p>点击左侧PIO标志 -> 点击左下方的新建终端 -> 在终端窗口中执行下面的安装指令</p>\n\n<ul>\n<li>发布版 （稳定版本）</li>\n</ul>\n\n<pre><code>platformio platform install gd32v\n</code></pre>\n\n<ul>\n<li>开发版（与Github同步）</li>\n</ul>\n\n<pre><code>platformio platform install https://github.com/sipeed/platform-gd32v\n</code></pre>\n\n<p><img src=\"../../assets/pio_install_gd32v.png\" alt=\"\" /></p>\n\n<p>注：受国内网络环境影响，安装过程需要较长时间，请耐心等待。</p>\n\n<h3 id=\"-2\">图形界面</h3>\n\n<p>打开VS CODE -> 点击左侧 PIO 图标 -> 点击左下方的 Open 选项 -> 点击 Platforms 页面 -> 点击 Advanced Installation 打开添加窗口<br />\n<img src=\"../../assets/pio_install_add_gd32v_step1.png\" alt=\"\" /></p>\n\n<p>在打开的窗口中输入下面的网址</p>\n\n<pre><code>https://github.com/sipeed/platform-gd32v.git\n</code></pre>\n\n<p>点击 Install 即可添加完成。</p>\n\n<p><img src=\"../../assets/pio_install_add_gd32v_step2.png\" alt=\"\" /></p>\n\n<p>耐心等待即可安装成功。 （安装失败多为网络原因， 请更换网络环境后再次尝试）<br />\n<img src=\"../../assets/pio_install_add_gd32v_step3.png\" alt=\"\" /></p>\n", "toc": "", "metadata": {}, "raw": "PIO 配置\n=====\n\n## 安装 VS-CODE\nVS CODE 是一款比较常用的开发工具。前往[VScode官网](https://code.visualstudio.com/ \"VScode官网\")，下载安装对应操作系统版本的安装包即可。\n\n## 安装 PIO 插件\n打开 VSCode -> 点击左侧扩展 -> 搜索 PlatformIO -> 点击安装插件 -> 等待安装完成 -> 重启 VSCODE\n\n![](http://blog.sipeed.com/wp-content/uploads/2019/04/0d501a8515a735fba54e2f5de908cd1e.png)\n\n## 安装 GD32V 平台定义\n\nPIO 目前提供**命令行**与**图形界面**两种方式来安装。下面将分别介绍：\n（PS : 推荐命令行，因为能看到下载进度条。）\n\n### 命令行\n\n点击左侧PIO标志 -> 点击左下方的新建终端 -> 在终端窗口中执行下面的安装指令\n\n* 发布版 （稳定版本）\n```\nplatformio platform install gd32v\n```\n\n* 开发版（与Github同步）\n```\nplatformio platform install https://github.com/sipeed/platform-gd32v\n```\n![](../../assets/pio_install_gd32v.png)\n\n注：受国内网络环境影响，安装过程需要较长时间，请耐心等待。\n\n\n### 图形界面\n\n打开VS CODE -> 点击左侧 PIO 图标 -> 点击左下方的 Open 选项 -> 点击 Platforms 页面 -> 点击 Advanced Installation 打开添加窗口\n![](../../assets/pio_install_add_gd32v_step1.png)\n\n在打开的窗口中输入下面的网址\n```\nhttps://github.com/sipeed/platform-gd32v.git\n```\n\n点击 Install 即可添加完成。\n\n![](../../assets/pio_install_add_gd32v_step2.png)\n\n耐心等待即可安装成功。 （安装失败多为网络原因， 请更换网络环境后再次尝试）\n![](../../assets/pio_install_add_gd32v_step3.png)", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/get_started/pio.md"}, "/soft/longan/zh/examples/badapple.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"bad-apple\">Bad Apple 演示视频</h1>\n\n<p>本文目的是使用板载的 160*80 分辨率的 OLED 屏幕播放 bad apple 视频</p>\n\n<h2 id=\"-1\">主要工作介绍</h2>\n\n<ul>\n<li>移植 OLED 屏幕的驱动</li>\n<li>移植 tf 卡驱动和 fatfs 文件系统</li>\n<li>将视频按自己需要的帧率转换为一帧帧的图片然后打包到 tf 卡</li>\n<li>在 gd32v 上读取 tf 卡中的图片并进行显示</li>\n</ul>\n\n<h3 id=\"-2\">屏幕驱动</h3>\n\n<p>使用硬件 SPI 驱动屏幕，首先需要初始化 SPI</p>\n\n<pre><code class=\"c language-c\">void spi_config(void)\n{\n    spi_parameter_struct spi_init_struct;\n    /* deinitilize SPI and the parameters */\n    OLED_CS_Set();\n    spi_struct_para_init(&amp;spi_init_struct);\n\n    /* SPI0 parameter config */\n    spi_init_struct.trans_mode           = SPI_TRANSMODE_FULLDUPLEX;\n    spi_init_struct.device_mode          = SPI_MASTER;\n    spi_init_struct.frame_size           = SPI_FRAMESIZE_8BIT;\n    spi_init_struct.clock_polarity_phase = SPI_CK_PL_HIGH_PH_2EDGE;\n    spi_init_struct.nss                  = SPI_NSS_SOFT;\n    spi_init_struct.prescale             = SPI_PSC_8;\n    spi_init_struct.endian               = SPI_ENDIAN_MSB;\n    spi_init(SPI0, &amp;spi_init_struct);\n\n    spi_crc_polynomial_set(SPI0,7);\n    spi_enable(SPI0);\n}\n</code></pre>\n\n<p>初始化完成后就可以实现数据指令的发送</p>\n\n<pre><code class=\"c language-c\">void LCD_Writ_Bus(u8 dat)\n{\n    OLED_CS_Clr();\n\n    while(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_TBE));\n        spi_i2s_data_transmit(SPI0, dat);\n    while(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_RBNE));\n        spi_i2s_data_receive(SPI0);\n\n    OLED_CS_Set();\n}\n\nvoid LCD_WR_DATA8(u8 dat)\n{\n    OLED_DC_Set();//写数据\n    LCD_Writ_Bus(dat);\n}\n\nvoid LCD_WR_DATA(u16 dat)\n{\n    OLED_DC_Set();//写数据\n    LCD_Writ_Bus(dat&gt;&gt;8);\n    LCD_Writ_Bus(dat);\n}\n\nvoid LCD_WR_REG(u8 dat)\n{\n    OLED_DC_Clr();//写命令\n    LCD_Writ_Bus(dat);\n}\n</code></pre>\n\n<p><code>LCD_Writ_Bus</code> 完成了 SPI 的收发，通过控制命令数据线，完成命令和数据的发送</p>\n\n<p>OLED 屏幕在使用前还需要设置它的一些参数，比如屏幕开启、数据帧的格式等等，这些在参数在屏幕初始化的时候，通过写命令再写数据的方式写入。想修改这些参数需要依靠屏幕配套的数据手册，不过一般可以参数屏幕生产商提供的例程中的参数。</p>\n\n<h3 id=\"tf-fatfs\">tf 卡驱动和 fatfs 文件系统</h3>\n\n<p>tf 卡在 longan 上也是使用 SPI 驱动的。为了更快的访问速率，也是使用硬件 SPI 驱动。使用前也需要初始化，方式和屏幕的 SPI 初始化类似，就不再累述。</p>\n\n<p>fatfs 是一个专为小型嵌入式设备设计的文件系统。fatfs 符合 ANSI C(C89)规范，并且和磁盘 I/O 层完全分离。</p>\n\n<p>具体的移植也很简单，直接参照 fatfs 提供的 stm32 的工程移植进行</p>\n\n<p>这里提供该工程的<a href=\"http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/ffsample.7z\">下载地址</a>，完整版可以去 fatfs 的<a href=\"http://elm-chan.org/fsw/ff/ffsample.zip\">官网下载</a></p>\n\n<p>主要的工作在于实现 fatfs 的几个基本函数 <code>disk_initialize</code> <code>disk_status</code> <code>disk_read</code> <code>disk_ioctl</code></p>\n\n<p>这些函数又是基于 SPI 通信的，还需要修改 SPI 接收发送的实现</p>\n\n<pre><code class=\"c language-c\">static\nBYTE xchg_spi (\n    BYTE dat    /* Data to send */\n)\n{\n    while(RESET == spi_i2s_flag_get(SPI1, SPI_FLAG_TBE));\n        spi_i2s_data_transmit(SPI1, dat);\n    while(RESET == spi_i2s_flag_get(SPI1, SPI_FLAG_RBNE));\n        return(spi_i2s_data_receive(SPI1));     /* Return received byte */\n}\n\nstatic\nvoid rcvr_spi_multi (\n    BYTE *buff,     /* Pointer to data buffer */\n    UINT btr        /* Number of bytes to receive (even number) */\n)\n{\n    do\n    {\n        *buff = xchg_spi(0xff);\n        buff++;\n    } while (btr--);\n\n}\n</code></pre>\n\n<h3 id=\"-3\">视频预解码</h3>\n\n<p>mp4 格式的视频，单片机因为没有硬件的加速，无法胜任解码播放的工作，所以只能靠手工预解码，相当于按照一定的帧率对原视频进行截图</p>\n\n<p>这里需要使用到 PotPlayer XnViewMP</p>\n\n<p>首先使用 PotPlayer 打开视频，快捷键 ctrl+G 打开连续截图</p>\n\n<p>打开后如图</p>\n\n<p><img src=\"../../assets/examples/potplayer.png\" alt=\"\" /></p>\n\n<p>其中格式一定要 BMP，尺寸按照屏幕的尺寸设置，时间我这里设置的是 100ms 也就是 1s 十帧的样子，采集数量就自己计算一下视频总时间再乘每秒帧数，我这里就是 219s * 10 = 2190</p>\n\n<p>最后得到的图片是 32位 的 BMP，转换起来不方便，就用 XnViewMP 转换为 24位 的 BMP</p>\n\n<p>打开 XnViewMP ，选择要转换的图片，快捷键 ctrl+U 打开批量转换，在动作中选择 24位 进行转换，如图</p>\n\n<p><img src=\"../../assets/examples/XnViewMP.png\" alt=\"\" /></p>\n\n<p>然后就是将这些图片打包到 tf 卡，这里为了方便，修改了网上的一个开源项目 <a href=\"https://github.com/robertgallup/bmp2hex\">bmp2hex</a>，重新整理了一个工具，可以<a href=\"http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/tools_bmp2hex.zip\">点击下载</a></p>\n\n<p>使用方法很简单，把下载的这个压缩包放到之前生成的图片集中，进行解压</p>\n\n<p>使用工具前需要确保所有图片的名字是 数字.bmp ，不是的话可以先运行一遍 rename.py 这个脚本，直接在命令行输入 <code>python rename.py</code> 即可</p>\n\n<p>根据自己图片总数修改 genhex.py 这个脚本的第4行中的数字，比如我有 2190张 图片，这里的数字就写 2190</p>\n\n<p>然后就运行这个脚本，在命令行输入 <code>python genhex.py</code>，时间可能比较久，需要耐心等待</p>\n\n<p>最后运行完毕后会生成一个 bmp.bin 文件，将这个文件放入到 tf 卡中即可</p>\n\n<h3 id=\"-4\">读取图片</h3>\n\n<p>最后的读取图片并显示其实很简单了，主要涉及到的就是文件操作，关于 fatfs 的 API <a href=\"http://elm-chan.org/fsw/ff/doc/open.html\">可以点击这里阅读</a></p>\n\n<p>首先需要将 tf 卡挂载到文件系统，这里需要使用到 f_mount 这个函数</p>\n\n<pre><code class=\"c language-c\">fr = f_mount(&amp;fs, \"\", 1);\n</code></pre>\n\n<p>挂载上后，就找到对应的文件然后打开，这里涉及到 f_open</p>\n\n<pre><code class=\"c language-c\">fr = f_open(&amp;fil, \"bmp.bin\", FA_READ);\n</code></pre>\n\n<p>文件打开后，就可以读取图片信息并显示了，这里 160*80 尺寸的 16位真彩图片，一张有 25600 字节，longan 上的处理器无法直接创建一个这么大的数组，所以只能分两次进行读取，每次读取完进行一次偏移，最后通过循环读取总共的 2189 张图片，这里涉及到 f_read f_lseek</p>\n\n<pre><code class=\"c language-c\">for (int i=0; i&lt;2189;i++)\n{\n        fr = f_read(&amp;fil, image, sizeof(image), &amp;br);\n        LCD_ShowPicture(0,0,159,39);\n        offset += 12800;\n        f_lseek(&amp;fil, offset);\n        LEDB_TOG;\n        fr = f_read(&amp;fil, image, sizeof(image), &amp;br);\n        LCD_ShowPicture(0,40,159,79);\n        offset += 12800;\n        f_lseek(&amp;fil, offset);\n        LEDB_TOG;\n}\n</code></pre>\n\n<p>最后，本工程可以到 github 下载体验，<a href=\"https://github.com/sipeed/Longan_GD32VF_examples\">点击进行传送</a></p>\n", "toc": "", "metadata": {}, "raw": "Bad Apple 演示视频\n==================\n\n本文目的是使用板载的 160*80 分辨率的 OLED 屏幕播放 bad apple 视频\n\n## 主要工作介绍\n\n+ 移植 OLED 屏幕的驱动\n+ 移植 tf 卡驱动和 fatfs 文件系统\n+ 将视频按自己需要的帧率转换为一帧帧的图片然后打包到 tf 卡\n+ 在 gd32v 上读取 tf 卡中的图片并进行显示\n\n### 屏幕驱动\n\n使用硬件 SPI 驱动屏幕，首先需要初始化 SPI\n\n```c\nvoid spi_config(void)\n{\n    spi_parameter_struct spi_init_struct;\n    /* deinitilize SPI and the parameters */\n    OLED_CS_Set();\n    spi_struct_para_init(&spi_init_struct);\n\n    /* SPI0 parameter config */\n    spi_init_struct.trans_mode           = SPI_TRANSMODE_FULLDUPLEX;\n    spi_init_struct.device_mode          = SPI_MASTER;\n    spi_init_struct.frame_size           = SPI_FRAMESIZE_8BIT;\n    spi_init_struct.clock_polarity_phase = SPI_CK_PL_HIGH_PH_2EDGE;\n    spi_init_struct.nss                  = SPI_NSS_SOFT;\n    spi_init_struct.prescale             = SPI_PSC_8;\n    spi_init_struct.endian               = SPI_ENDIAN_MSB;\n    spi_init(SPI0, &spi_init_struct);\n\n\tspi_crc_polynomial_set(SPI0,7);\n\tspi_enable(SPI0);\n}\n```\n\n初始化完成后就可以实现数据指令的发送\n\n```c\nvoid LCD_Writ_Bus(u8 dat)\n{\n\tOLED_CS_Clr();\n\n\twhile(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_TBE));\n        spi_i2s_data_transmit(SPI0, dat);\n\twhile(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_RBNE));\n        spi_i2s_data_receive(SPI0);\n\n\tOLED_CS_Set();\n}\n\nvoid LCD_WR_DATA8(u8 dat)\n{\n\tOLED_DC_Set();//写数据\n\tLCD_Writ_Bus(dat);\n}\n\nvoid LCD_WR_DATA(u16 dat)\n{\n\tOLED_DC_Set();//写数据\n\tLCD_Writ_Bus(dat>>8);\n\tLCD_Writ_Bus(dat);\n}\n\nvoid LCD_WR_REG(u8 dat)\n{\n\tOLED_DC_Clr();//写命令\n\tLCD_Writ_Bus(dat);\n}\n```\n\n`LCD_Writ_Bus` 完成了 SPI 的收发，通过控制命令数据线，完成命令和数据的发送\n\nOLED 屏幕在使用前还需要设置它的一些参数，比如屏幕开启、数据帧的格式等等，这些在参数在屏幕初始化的时候，通过写命令再写数据的方式写入。想修改这些参数需要依靠屏幕配套的数据手册，不过一般可以参数屏幕生产商提供的例程中的参数。\n\n### tf 卡驱动和 fatfs 文件系统\n\ntf 卡在 longan 上也是使用 SPI 驱动的。为了更快的访问速率，也是使用硬件 SPI 驱动。使用前也需要初始化，方式和屏幕的 SPI 初始化类似，就不再累述。\n\nfatfs 是一个专为小型嵌入式设备设计的文件系统。fatfs 符合 ANSI C(C89)规范，并且和磁盘 I/O 层完全分离。\n\n具体的移植也很简单，直接参照 fatfs 提供的 stm32 的工程移植进行\n\n这里提供该工程的[下载地址](http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/ffsample.7z)，完整版可以去 fatfs 的[官网下载](http://elm-chan.org/fsw/ff/ffsample.zip)\n\n主要的工作在于实现 fatfs 的几个基本函数 `disk_initialize` `disk_status` `disk_read` `disk_ioctl`\n\n这些函数又是基于 SPI 通信的，还需要修改 SPI 接收发送的实现\n\n```c\nstatic\nBYTE xchg_spi (\n\tBYTE dat\t/* Data to send */\n)\n{\n\twhile(RESET == spi_i2s_flag_get(SPI1, SPI_FLAG_TBE));\n        spi_i2s_data_transmit(SPI1, dat);\n\twhile(RESET == spi_i2s_flag_get(SPI1, SPI_FLAG_RBNE));\n        return(spi_i2s_data_receive(SPI1));     /* Return received byte */\n}\n\nstatic\nvoid rcvr_spi_multi (\n\tBYTE *buff,\t\t/* Pointer to data buffer */\n\tUINT btr\t\t/* Number of bytes to receive (even number) */\n)\n{\n\tdo\n\t{\n\t\t*buff = xchg_spi(0xff);\n\t\tbuff++;\n\t} while (btr--);\n\n}\n```\n\n### 视频预解码\n\nmp4 格式的视频，单片机因为没有硬件的加速，无法胜任解码播放的工作，所以只能靠手工预解码，相当于按照一定的帧率对原视频进行截图\n\n这里需要使用到 PotPlayer XnViewMP\n\n首先使用 PotPlayer 打开视频，快捷键 ctrl+G 打开连续截图\n\n打开后如图\n\n![](../../assets/examples/potplayer.png)\n\n其中格式一定要 BMP，尺寸按照屏幕的尺寸设置，时间我这里设置的是 100ms 也就是 1s 十帧的样子，采集数量就自己计算一下视频总时间再乘每秒帧数，我这里就是 219s * 10 = 2190\n\n最后得到的图片是 32位 的 BMP，转换起来不方便，就用 XnViewMP 转换为 24位 的 BMP\n\n打开 XnViewMP ，选择要转换的图片，快捷键 ctrl+U 打开批量转换，在动作中选择 24位 进行转换，如图\n\n![](../../assets/examples/XnViewMP.png)\n\n然后就是将这些图片打包到 tf 卡，这里为了方便，修改了网上的一个开源项目 [bmp2hex](https://github.com/robertgallup/bmp2hex)，重新整理了一个工具，可以[点击下载](http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/tools_bmp2hex.zip)\n\n使用方法很简单，把下载的这个压缩包放到之前生成的图片集中，进行解压\n\n使用工具前需要确保所有图片的名字是 数字.bmp ，不是的话可以先运行一遍 rename.py 这个脚本，直接在命令行输入 `python rename.py` 即可\n\n根据自己图片总数修改 genhex.py 这个脚本的第4行中的数字，比如我有 2190张 图片，这里的数字就写 2190\n\n然后就运行这个脚本，在命令行输入 `python genhex.py`，时间可能比较久，需要耐心等待\n\n最后运行完毕后会生成一个 bmp.bin 文件，将这个文件放入到 tf 卡中即可\n\n### 读取图片\n\n最后的读取图片并显示其实很简单了，主要涉及到的就是文件操作，关于 fatfs 的 API [可以点击这里阅读](http://elm-chan.org/fsw/ff/doc/open.html)\n\n首先需要将 tf 卡挂载到文件系统，这里需要使用到 f_mount 这个函数\n\n```c\nfr = f_mount(&fs, \"\", 1);\n```\n\n挂载上后，就找到对应的文件然后打开，这里涉及到 f_open\n\n```c\nfr = f_open(&fil, \"bmp.bin\", FA_READ);\n```\n\n文件打开后，就可以读取图片信息并显示了，这里 160*80 尺寸的 16位真彩图片，一张有 25600 字节，longan 上的处理器无法直接创建一个这么大的数组，所以只能分两次进行读取，每次读取完进行一次偏移，最后通过循环读取总共的 2189 张图片，这里涉及到 f_read f_lseek\n\n```c\nfor (int i=0; i<2189;i++)\n{\n        fr = f_read(&fil, image, sizeof(image), &br);\n        LCD_ShowPicture(0,0,159,39);\n        offset += 12800;\n        f_lseek(&fil, offset);\n        LEDB_TOG;\n        fr = f_read(&fil, image, sizeof(image), &br);\n        LCD_ShowPicture(0,40,159,79);\n        offset += 12800;\n        f_lseek(&fil, offset);\n        LEDB_TOG;\n}\n```\n\n最后，本工程可以到 github 下载体验，[点击进行传送](https://github.com/sipeed/Longan_GD32VF_examples)", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/examples/badapple.md"}, "/soft/longan/zh/examples/printf.html": {"title": "", "desc": "", "keywords": [], "tags": [], "body": "<h1 id=\"-1\">串口打印</h1>\n\n<p>很多时候，串口打印都是一个非常方便的调试手段，通过串口打印的信息，可以方便的定位程序错误位置</p>\n\n<p>本文基于 longan nano 演示如何实现 printf 通过串口打印</p>\n\n<p>本文选择串口0作为串口打印信息的端口，外设使用前，自然需要进行初始化</p>\n\n<pre><code class=\"c language-c\">void init_uart0(void)\n{   \n    /* enable GPIO clock */\n    rcu_periph_clock_enable(RCU_GPIOA);\n    /* enable USART clock */\n    rcu_periph_clock_enable(RCU_USART0);\n\n    /* connect port to USARTx_Tx */\n    gpio_init(GPIOA, GPIO_MODE_AF_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_9);\n    /* connect port to USARTx_Rx */\n    gpio_init(GPIOA, GPIO_MODE_IN_FLOATING, GPIO_OSPEED_50MHZ, GPIO_PIN_10);\n\n    /* USART configure */\n    usart_deinit(USART0);\n    usart_baudrate_set(USART0, 115200U);\n    usart_word_length_set(USART0, USART_WL_8BIT);\n    usart_stop_bit_set(USART0, USART_STB_1BIT);\n    usart_parity_config(USART0, USART_PM_NONE);\n    usart_hardware_flow_rts_config(USART0, USART_RTS_DISABLE);\n    usart_hardware_flow_cts_config(USART0, USART_CTS_DISABLE);\n    usart_receive_config(USART0, USART_RECEIVE_ENABLE);\n    usart_transmit_config(USART0, USART_TRANSMIT_ENABLE);\n    usart_enable(USART0);\n\n    usart_interrupt_enable(USART0, USART_INT_RBNE);\n}\n</code></pre>\n\n<p>这里首先的开启了端口时钟和串口时钟，在初始化完管脚后，就进行了串口的功能配置</p>\n\n<p>我们一般比较关心的就是串口的波特率，这里设置成了 115200</p>\n\n<p>然后我们还需要重新实现 _put_char ，将 printf 重映射</p>\n\n<pre><code class=\"c language-c\">int _put_char(int ch)\n{\n    usart_data_transmit(USART0, (uint8_t) ch );\n    while ( usart_flag_get(USART0, USART_FLAG_TBE)== RESET){\n    }\n\n    return ch;\n}\n</code></pre>\n\n<p>这样就可以快乐的使用 printf 了</p>\n", "toc": "", "metadata": {}, "raw": "串口打印\n==========\n\n很多时候，串口打印都是一个非常方便的调试手段，通过串口打印的信息，可以方便的定位程序错误位置\n\n本文基于 longan nano 演示如何实现 printf 通过串口打印\n\n本文选择串口0作为串口打印信息的端口，外设使用前，自然需要进行初始化\n\n```c\nvoid init_uart0(void)\n{\t\n\t/* enable GPIO clock */\n    rcu_periph_clock_enable(RCU_GPIOA);\n    /* enable USART clock */\n    rcu_periph_clock_enable(RCU_USART0);\n\n    /* connect port to USARTx_Tx */\n    gpio_init(GPIOA, GPIO_MODE_AF_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_9);\n    /* connect port to USARTx_Rx */\n    gpio_init(GPIOA, GPIO_MODE_IN_FLOATING, GPIO_OSPEED_50MHZ, GPIO_PIN_10);\n\n\t/* USART configure */\n    usart_deinit(USART0);\n    usart_baudrate_set(USART0, 115200U);\n    usart_word_length_set(USART0, USART_WL_8BIT);\n    usart_stop_bit_set(USART0, USART_STB_1BIT);\n    usart_parity_config(USART0, USART_PM_NONE);\n    usart_hardware_flow_rts_config(USART0, USART_RTS_DISABLE);\n    usart_hardware_flow_cts_config(USART0, USART_CTS_DISABLE);\n    usart_receive_config(USART0, USART_RECEIVE_ENABLE);\n    usart_transmit_config(USART0, USART_TRANSMIT_ENABLE);\n    usart_enable(USART0);\n\n    usart_interrupt_enable(USART0, USART_INT_RBNE);\n}\n```\n\n这里首先的开启了端口时钟和串口时钟，在初始化完管脚后，就进行了串口的功能配置\n\n我们一般比较关心的就是串口的波特率，这里设置成了 115200\n\n然后我们还需要重新实现 _put_char ，将 printf 重映射\n\n```c\nint _put_char(int ch)\n{\n    usart_data_transmit(USART0, (uint8_t) ch );\n    while ( usart_flag_get(USART0, USART_FLAG_TBE)== RESET){\n    }\n\n    return ch;\n}\n```\n\n这样就可以快乐的使用 printf 了", "sidebar": "\n            <div id=\"sidebar_wrapper\">\n                <div id=\"sidebar\">\n                    <div id=\"sidebar_title\">\n                        \n                    </div>\n                    <ul class=\"show\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">Sipeed Longan</span><span class=\"\"></span></a></li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">Longan Nano</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"not_active no_link\"><a><span class=\"label\">简介</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/index.html\"><span class=\"label\">关于Longan</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n<li class=\"not_active no_link\"><a><span class=\"label\">准备</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/pio.html\"><span class=\"label\">PIO 配置</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/blink.html\"><span class=\"label\">Blink闪灯</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/debug.html\"><span class=\"label\">DEBUG 调试</span><span class=\"sub_indicator sub_indicator_collapsed\"></span></a><ul class=\"\">\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/sipeed-debugger.html\"><span class=\"label\">使用 Sipeed 调试器</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/get_started/rv-link.html\"><span class=\"label\">使用 RV-LINK</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"active_parent no_link\"><a><span class=\"label\">示例</span><span class=\"sub_indicator\"></span></a><ul class=\"show\">\n<li class=\"active with_link\"><a href=\"/soft/longan/zh/examples/printf.html\"><span class=\"label\">串口输出</span><span class=\"\"></span></a></li>\n<li class=\"not_active with_link\"><a href=\"/soft/longan/zh/examples/badapple.html\"><span class=\"label\">播放 Badapple</span><span class=\"\"></span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan Zreo</span></li>\n<li class=\"not_active no_link sidebar_category\"><span class=\"label\">Longan One</span></li>\n</ul>\n\n                </div>\n                <div id=\"sidebar_splitter\">\n                </div>\n            </div>", "navbar": "\n            <div id=\"navbar\">\n                <div id=\"navbar_menu\">\n                    <a class=\"site_title\" href=\"/\"><img class=\"site_logo\" src=\"/static/image/logo.svg\" alt=\"sipeed wiki logo\"><h2>wiki</h2></a>\n                    <a id=\"navbar_menu_btn\"></a>\n                </div>\n                <div id=\"navbar_items\">\n                    <div>\n                        <ul id=\"nav_left\">\n<li class=\"\"><a  href=\"/\">首页</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.sipeed.com\">矽速官网</a></li>\n<li class=\"sub_items active_parent\"><a >开源软件</a><ul><li class=\"\"><a  href=\"/soft/maixpy/zh/\">MaixPy</a></li>\n<li class=\"\"><a  href=\"/soft/maixpy3/zh/\">MaixPy3</a></li>\n<li class=\"\"><a  href=\"/soft/maixduino/zh/\">MaixDuino</a></li>\n<li class=\"\"><a  href=\"/soft/Lichee/zh/\">Lichee</a></li>\n<li class=\"active\"><a  href=\"/soft/longan/zh/\">Longan</a></li>\n<li class=\"\"><a  href=\"/soft/Tang/zh/index_bak.html\">Tang</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >开源硬件</a><ul><li class=\"\"><a  href=\"/hardware/zh/maix/index.html\">Maix-I</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixII/index.html\">Maix-II</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIII/index.html\">Maix-III</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/maixIV/index.html\">Maix-IV</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/lichee/index.html\">Lichee Pi</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/tang/index.html\">Tang</a></li>\n<li class=\"\"><a  href=\"/hardware/zh/longan/index.html\">Longan</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >商业产品</a><ul><li class=\"\"><a  href=\"/hardware/maixface/zh/\">Maix Face</a></li>\n</ul>\n</li>\n<li class=\"sub_items \"><a >云平台</a><ul><li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com\">Maixhub 模型训练平台</a></li>\n<li class=\"\"><a target=\"_blank\" href=\"https://www.maixhub.com/onlinecompiler\">固件在线编译</a></li>\n</ul>\n</li>\n<li class=\"\"><a  href=\"/community.html\">社区</a></li>\n<li class=\"\"><a  href=\"/store.html\">商城</a></li>\n</ul>\n\n                    </div>\n                    <div>\n                        <ul id=\"nav_right\">\n<li class=\"sub_items \"><a  href=\"\">Language: </a><ul><li class=\"\"><a  href=\"/\">中文</a></li>\n<li class=\"\"><a  href=\"/en/\">English</a></li>\n</ul></li>\n</ul>\n\n                        <ul class=\"nav_plugins\"><li><a id=\"themes\" class=\"light\"></a></li></ul><ul class=\"nav_plugins\"><li><a id=\"search\"><span class=\"icon\"></span><span class=\"placeholder\">搜索</span>\n                            <div id=\"search_hints\">\n                                <span id=\"search_input_hint\">输入关键词，多关键词空格隔开</span>\n                                <span id=\"search_loading_hint\">正在加载，请稍候。。。</span>\n                                <span id=\"search_download_err_hint\">下载文件失败，请刷新重试或检查网络</span>\n                                <span id=\"search_other_docs_result_hint\">来自其它文档的结果</span>\n                                <span id=\"search_curr_doc_result_hint\">当前文档搜索结果</span>\n                            </div></a></li></ul>\n                    </div>\n                </div>\n            </div>", "footer": "\n            <div id=\"footer\">\n                <div id=\"footer_top\">\n                    <ul>\n<li><a>链接</a><ul><li><a target=\"_blank\" href=\"https://www.sipeed.com\">Sipeed</a></li>\n<li><a target=\"_blank\" href=\"https://bbs.sipeed.com/\">BBS 论坛</a></li>\n<li><a target=\"_blank\" href=\"https://maixhub.sipeed.com/\">Maixhub</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">Sipeed 淘宝</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/neutree/teedoc\">网站使用 teedoc 生成</a></li>\n</ul>\n</li>\n<li><a>网站统计</a><ul><li><a target=\"_blank\" href=\"https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a\">百度统计</a></li>\n<li><a  href=\"/sitemap.xml\">网站地图</a></li>\n</ul>\n</li>\n<li><a>源码</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed/sipeed_wiki\">文档源文件</a></li>\n<li><a target=\"_blank\" href=\"https://github.com/sipeed\">开源项目源码</a></li>\n</ul>\n</li>\n<li><a>关注我们</a><ul><li><a target=\"_blank\" href=\"https://github.com/sipeed\">github</a></li>\n<li><a target=\"_blank\" href=\"https://twitter.com/SipeedIO\">twitter</a></li>\n<li><a target=\"_blank\" href=\"https://sipeed.taobao.com/\">淘宝</a></li>\n<li><a  href=\"/community.html\">更多</a></li>\n</ul>\n</li>\n<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>\n</li>\n<li><a>商业支持: support@sipeed.com</a>\n</li>\n<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>\n</li>\n<li><a  href=\"/join_us.html\">加入我们</a></li>\n</ul>\n</li>\n</ul>\n\n                </div>\n                <div id=\"footer_bottom\">\n                    <ul>\n<li><a target=\"_blank\" href=\"https://www.sipeed.com\">©2018-2021 深圳矽速科技有限公司</a></li>\n<li><a target=\"_blank\" href=\"https://beian.miit.gov.cn/#/Integrated/index\">粤ICP备19015433号-1</a></li>\n</ul>\n\n                </div>\n            </div>", "show_source": "编辑本页", "file_path": "/home/runner/work/sipeed_wiki/sipeed_wiki/docs/soft/longan/zh/examples/printf.md"}, "body": ""}